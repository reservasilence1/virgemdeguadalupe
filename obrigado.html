<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Obrigado ‚Äî Pedido Confirmado | Itiner√°rio Quaresmal 2026</title>

  <style>
    :root{
      /* Paleta inspirada no layout do print */
      --green-900:#143a2a;
      --green-800:#194433;
      --green-700:#1f4f3b;
      --cream-50:#fbf7ef;
      --cream-100:#f4efe4;
      --ink:#123124;
      --muted:#5b6b63;
      --gold:#caa24a;
      --shadow: 0 18px 38px rgba(0,0,0,.14);
      --radius: 18px;
      --radius-lg: 22px;
      --border: rgba(20,58,42,.14);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background: linear-gradient(180deg, var(--cream-50) 0%, var(--cream-100) 100%);
    }
    a{color:inherit;text-decoration:none}
    .container{
      width:min(1100px, 92vw);
      margin:0 auto;
    }

    /* Top bar */
    .topbar{
      background: #0f2f22;
      color: rgba(255,255,255,.92);
      font-size:12px;
      letter-spacing:.08em;
      text-transform:uppercase;
      text-align:center;
      padding:10px 12px;
    }

    /* Header */
    .header{
      background: var(--green-900);
      border-bottom: 1px solid rgba(255,255,255,.08);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .header-inner{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:14px 10px;
      gap:10px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      color:#fff;
      text-align:center;
    }
    .brand .logo{
      width:40px;height:40px;border-radius:999px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      overflow:hidden;
    }
    .brand .logo img{
      width:100%;height:100%;object-fit:cover;
      display:block;
    }
    .brand .title{
      display:flex;
      flex-direction:column;
      line-height:1.05;
    }
    .brand .title strong{
      font-size:14px;
      letter-spacing:.02em;
    }
    .brand .title span{
      font-size:12px;
      color: rgba(255,255,255,.78);
    }

    /* Main layout */
    main{padding:26px 0 50px}
    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 22px;
      align-items: start;
      margin-top: 6px;
    }

    .card{
      background: rgba(255,255,255,.72);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(8px);
    }
    .card-header{
      padding:18px 18px 14px;
      border-bottom: 1px solid rgba(20,58,42,.10);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      background: linear-gradient(180deg, rgba(20,58,42,.06), rgba(20,58,42,.02));
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius: 999px;
      background: rgba(202,162,74,.14);
      border: 1px solid rgba(202,162,74,.35);
      color: #6d4f13;
      font-weight:700;
      font-size:12px;
      white-space:nowrap;
    }
    .badge .dot{
      width:8px;height:8px;border-radius:999px;background: var(--gold);
      box-shadow: 0 0 0 4px rgba(202,162,74,.18);
    }

    h1{
      margin:0;
      font-size: 26px;
      letter-spacing: -0.02em;
    }
    .subtitle{
      margin:8px 0 0;
      color: var(--muted);
      font-size:14px;
      line-height:1.45;
    }

    .card-body{
      padding:18px;
    }

    .status{
      display:flex;
      align-items:center;
      gap:14px;
      padding:14px 14px;
      border-radius: var(--radius);
      border: 1px solid rgba(20,58,42,.14);
      background: rgba(220,252,231,.35);
    }
    .status .icon{
      width:44px;height:44px;border-radius:14px;
      display:grid;place-items:center;
      background: rgba(34,197,94,.14);
      border: 1px solid rgba(34,197,94,.24);
      flex:0 0 auto;
    }
    .status .icon svg{width:22px;height:22px}
    .status .txt{
      display:flex;flex-direction:column;gap:2px;
      min-width:0;
    }
    .status .txt strong{
      font-size:14px;
      letter-spacing:.01em;
    }
    .status .txt span{
      font-size:13px;
      color: var(--muted);
      line-height:1.35;
    }

    /* Stepper */
    .steps{
      margin-top:16px;
      padding:14px;
      border-radius: var(--radius);
      border: 1px solid rgba(20,58,42,.14);
      background: rgba(255,255,255,.56);
    }
    .steps-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .steps-top .label{
      font-weight:800;
      font-size:12px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: #244b3a;
    }
    .steps-top .eta{
      font-size:12px;
      color: var(--muted);
      white-space:nowrap;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(20,58,42,.10);
      overflow:hidden;
      border: 1px solid rgba(20,58,42,.10);
    }
    .bar > i{
      display:block;
      height:100%;
      width:0%;
      background: linear-gradient(90deg, #22c55e, #16a34a);
      border-radius:999px;
      transition: width 900ms ease;
    }
    .step-list{
      margin:12px 0 0;
      padding:0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .step{
      display:flex;
      align-items:flex-start;
      gap:10px;
      color: var(--muted);
      font-size:13px;
      line-height:1.35;
    }
    .step b{color:#1f3f31}
    .step .check{
      width:18px;height:18px;border-radius:6px;
      border: 1px solid rgba(20,58,42,.18);
      background: rgba(20,58,42,.04);
      display:grid;place-items:center;
      margin-top:1px;
      flex:0 0 auto;
    }
    .step.done{color:#1f3f31}
    .step.done .check{
      background: rgba(34,197,94,.14);
      border-color: rgba(34,197,94,.28);
    }
    .step.active{color:#1f3f31}
    .step.active .check{
      background: rgba(202,162,74,.12);
      border-color: rgba(202,162,74,.28);
    }

    /* Side card */
    .side{
      display:grid;
      gap: 14px;
    }
    .side .mini{
      padding:16px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: rgba(255,255,255,.62);
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
    }
    .mini h3{
      margin:0 0 8px;
      font-size:14px;
      letter-spacing:.04em;
      text-transform:uppercase;
      color:#234a39;
    }
    .kv{
      display:grid;
      gap:10px;
      margin-top:10px;
    }
    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      font-size:14px;
      padding:10px 12px;
      border-radius: 14px;
      background: rgba(20,58,42,.04);
      border: 1px solid rgba(20,58,42,.10);
    }
    .row small{color:var(--muted)}
    .row strong{font-weight:800}
    .divider{
      height:1px;
      background: rgba(20,58,42,.10);
      margin:12px 0;
    }
    .cta{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:12px;
    }
    .btn{
      cursor:pointer;
      border:0;
      width:100%;
      padding:13px 14px;
      border-radius: 14px;
      font-weight:900;
      letter-spacing:.02em;
      background: var(--green-700);
      color:#fff;
      box-shadow: 0 10px 18px rgba(20,58,42,.20);
      transition: transform .08s ease, filter .2s ease;
    }
    .btn:active{transform: translateY(1px)}
    .btn:hover{filter: brightness(1.05)}
    .btn.outline{
      background: transparent;
      color: var(--green-900);
      border: 1px solid rgba(20,58,42,.25);
      box-shadow:none;
    }
    .tiny{
      font-size:12px;
      color: var(--muted);
      line-height:1.4;
    }

    /* Trust row */
    .trust{
      margin-top:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:18px;
      flex-wrap:wrap;
      color: rgba(18,49,36,.78);
      font-size:12px;
    }
    .trust .item{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .trust svg{width:16px;height:16px;opacity:.9}

    /* Section below */
    .section{
      margin-top:22px;
      background: var(--green-900);
      color:#fff;
      border-radius: 24px;
      padding: 22px 18px;
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 18px 38px rgba(0,0,0,.18);
    }
    .section h2{
      margin:0 0 10px;
      font-size:18px;
      letter-spacing:-.01em;
    }
    .section p{
      margin:0;
      color: rgba(255,255,255,.86);
      line-height:1.6;
      font-size:14px;
    }

    .quote{
      margin-top:14px;
      padding-top:14px;
      border-top: 1px solid rgba(255,255,255,.14);
      font-style: italic;
      color: rgba(255,255,255,.88);
    }

    footer{
      padding: 16px 0 28px;
      text-align:center;
      color: rgba(18,49,36,.6);
      font-size:12px;
    }

    /* Responsive */
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr; }
      .header-inner{justify-content:center}
    }
  </style>
</head>

<body>

  <header class="header">
    <div class="container">
      <div class="header-inner">
        <div class="brand" aria-label="Marca">
          <div class="logo" aria-hidden="true">
            <!-- Troque o src pela sua logo (mesmo arquivo usado na home) -->
            <img src="images/logo-CZuMFv0-.png" alt="Logo" onerror="this.style.display='none'; this.parentElement.style.background='rgba(255,255,255,.10)'; this.parentElement.innerHTML='‚ú¶';" />
          </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="container">

      <div class="hero">
        <!-- Card principal -->
        <section class="card" aria-label="Confirma√ß√£o do pedido">
          <div class="card-header">
            <div>
              <h1>Obrigado! Seu pedido foi confirmado üôè</h1>
              <p class="subtitle">
                <span id="helloName">Estamos preparando tudo</span> e voc√™ receber√° o material no seu e-mail/WhatsApp assim que a libera√ß√£o for conclu√≠da.
              </p>
            </div>
            <div class="badge" title="Status do pedido">
              <span class="dot"></span>
              <span id="statusBadge">Pedido aprovado</span>
            </div>
          </div>

          <div class="card-body">
            <div class="status">
              <div class="icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M20 7L9 18l-5-5" stroke="#16a34a" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <div class="txt">
                <strong id="statusTitle">Pagamento confirmado</strong>
                <span id="statusDesc">Seu pedido entrou na fila de prepara√ß√£o e envio. ‚úÖ</span>
              </div>
            </div>

            <div class="steps" aria-label="Andamento do envio">
              <div class="steps-top">
                <div class="label">Andamento</div>
                <div class="eta">Previs√£o: <b id="etaText">hoje</b></div>
              </div>
              <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                <i id="barFill"></i>
              </div>

              <ul class="step-list" id="stepList">
                <li class="step done" data-step="1">
                  <span class="check" aria-hidden="true">
                    <svg viewBox="0 0 24 24" width="14" height="14" fill="none">
                      <path d="M20 7L9 18l-5-5" stroke="#16a34a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                  <span><b>Pedido aprovado</b> ‚Ä¢ registramos sua compra com sucesso.</span>
                </li>

                <li class="step active" data-step="2">
                  <span class="check" aria-hidden="true">
                    <svg viewBox="0 0 24 24" width="14" height="14" fill="none">
                      <path d="M12 6v6l4 2" stroke="#caa24a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="#caa24a" stroke-width="2.0" opacity=".9"/>
                    </svg>
                  </span>
                  <span><b>Preparando seu pedido</b> ‚Ä¢ separando os itens e o acesso digital.</span>
                </li>

                <li class="step" data-step="3">
                  <span class="check" aria-hidden="true"></span>
                  <span><b>Enviando</b> ‚Ä¢ voc√™ receber√° a confirma√ß√£o no WhatsApp/E-mail.</span>
                </li>
              </ul>
            </div>

            <div class="trust" aria-label="Selos de confian√ßa">
              <div class="item">
                <svg viewBox="0 0 24 24" fill="none"><path d="M12 2l8 4v6c0 5-3.5 9.5-8 10-4.5-.5-8-5-8-10V6l8-4z" stroke="currentColor" stroke-width="2"/></svg>
                <span>Compra Segura</span>
              </div>
              <div class="item">
                <svg viewBox="0 0 24 24" fill="none"><path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>Satisfa√ß√£o Garantida</span>
              </div>
              <div class="item">
                <svg viewBox="0 0 24 24" fill="none"><path d="M12 1a5 5 0 00-5 5v4H5a3 3 0 00-3 3v7a3 3 0 003 3h14a3 3 0 003-3v-7a3 3 0 00-3-3h-2V6a5 5 0 00-5-5z" stroke="currentColor" stroke-width="2"/></svg>
                <span>Privacidade Protegida</span>
              </div>
            </div>

          </div>
        </section>

        <!-- Coluna lateral -->
        <aside class="side" aria-label="Resumo e pr√≥ximos passos">
          <div class="mini">
            <h3>Resumo do pedido</h3>

            <div class="kv">
              <div class="row">
                <small>N¬∫ do pedido</small>
                <strong id="orderId">#IQ-2026-0000</strong>
              </div>
              <div class="row">
                <small>Status</small>
                <strong id="orderStatus">Confirmado</strong>
              </div>
              <div class="row">
                <small>Entrega</small>
                <strong id="deliveryType">Digital + Envio</strong>
              </div>
            </div>

            <div class="divider"></div>

            <div class="tiny" id="contactHint">
              Se voc√™ n√£o receber em at√© alguns minutos, verifique a caixa de spam ou clique em ‚ÄúFalar no WhatsApp‚Äù para suporte.
            </div>

            <div class="cta">
              <button class="btn" id="whatsBtn">Falar no WhatsApp</button>
              <button class="btn outline" id="backBtn">Voltar ao site</button>
              <div class="tiny">
                Dica: salve este comprovante ‚Äî ele pode ser solicitado no atendimento.
              </div>
            </div>
          </div>

          <div class="mini">
            <h3>Pr√≥ximos passos</h3>
            <div class="tiny">
              ‚úÖ Seu pedido j√° est√° em prepara√ß√£o.<br/>
              üì© Assim que o envio for conclu√≠do, voc√™ receber√° uma mensagem com instru√ß√µes.<br/>
              üôè Enquanto isso, prepare seu cora√ß√£o: a Quaresma √© const√¢ncia, disciplina e profundidade.
            </div>
          </div>
        </aside>
      </div>

      <section class="section" aria-label="Mensagem espiritual">
        <h2>Seu pedido est√° sendo preparado</h2>
        <p>
          Estamos organizando o envio e garantindo que voc√™ receba tudo certinho.
          Quando estiver pronto, voc√™ ser√° notificado automaticamente.
        </p>
        <p class="quote">‚ÄúA Quaresma √© o caminho que nos aproxima do Cora√ß√£o de Jesus, guiados por Maria.‚Äù</p>
      </section>

      <footer>
        ¬© <span id="year"></span> ‚Ä¢ Itiner√°rio Quaresmal 2026 ‚Ä¢ Todos os direitos reservados
      </footer>

    </div>
  </main>

  <script>
    // ========= Utilit√°rios =========
    function getParams() {
      const p = new URLSearchParams(window.location.search);
      const obj = {};
      for (const [k,v] of p.entries()) obj[k] = v;
      return obj;
    }
    function buildUrlWithSameParams(url) {
      const current = new URLSearchParams(window.location.search);
      const u = new URL(url, window.location.origin);
      // preserva tudo (UTM, subids, etc.)
      current.forEach((val, key) => u.searchParams.set(key, val));
      return u.toString();
    }
    function safeText(el, txt){
      if(!el) return;
      el.textContent = (txt || "").toString();
    }
    function onlyDigits(s){ return (s||"").toString().replace(/\D/g, ""); }

    // ========= Personaliza√ß√£o b√°sica via query =========
    const params = getParams();

    // Nome (aceita nome, name)
    const nome = (params.nome || params.name || "").replace(/\+/g, " ").trim();
    if (nome) {
      safeText(document.getElementById("helloName"), `Obrigado, ${nome}! Estamos preparando tudo`);
    }

    // OrderId (aceita pedido, order, orderId)
    const orderId = (params.pedido || params.order || params.orderId || "").trim();
    if (orderId) safeText(document.getElementById("orderId"), orderId.startsWith("#") ? orderId : ("#" + orderId));

    // Status (aceita status)
    const status = (params.status || "").toLowerCase().trim();
    if (status) {
      const map = {
        aprovado: "Pedido aprovado",
        aprovado_pix: "Pedido aprovado",
        pago: "Pagamento confirmado",
        confirmado: "Confirmado",
        processando: "Processando",
        enviado: "Enviado"
      };
      safeText(document.getElementById("orderStatus"), (map[status] || status).replace(/^\w/, c => c.toUpperCase()));
    }

    // ========= Stepper com anima√ß√£o =========
    const barFill = document.getElementById("barFill");
    const progressbar = document.querySelector(".bar");
    const steps = [...document.querySelectorAll(".step")];

    // Se vier "sent" ou "enviado" nos params, j√° pula para final
    const isSent = ["enviado","sent","shipped","delivered"].includes(status);

    function setProgress(pct){
      const clamped = Math.max(0, Math.min(100, pct));
      barFill.style.width = clamped + "%";
      progressbar.setAttribute("aria-valuenow", String(clamped));
    }

    function setStepState(stepIndex, state){ // 1..3
      const el = steps.find(s => Number(s.dataset.step) === stepIndex);
      if(!el) return;
      el.classList.remove("done","active");
      el.classList.add(state);

      const check = el.querySelector(".check");
      if (check && state === "done") {
        check.innerHTML =
          '<svg viewBox="0 0 24 24" width="14" height="14" fill="none">' +
          '<path d="M20 7L9 18l-5-5" stroke="#16a34a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>' +
          '</svg>';
      } else if (check && state === "active") {
        check.innerHTML =
          '<svg viewBox="0 0 24 24" width="14" height="14" fill="none">' +
          '<path d="M12 6v6l4 2" stroke="#caa24a" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>' +
          '<path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="#caa24a" stroke-width="2.0" opacity=".9"/>' +
          '</svg>';
      } else if (check) {
        check.innerHTML = '';
      }
    }

    function runTimeline(){
      // Timeline ‚Äúorg√¢nica‚Äù, como fila de prepara√ß√£o
      setProgress(25);
      setStepState(1,"done");
      setStepState(2,"active");
      setStepState(3,"");

      // Atualiza ETA com base no hor√°rio local (bem simples)
      const now = new Date();
      const eta = document.getElementById("etaText");
      const hour = now.getHours();
      safeText(eta, hour < 18 ? "hoje" : "amanh√£");

      // Avan√ßo simulado
      setTimeout(() => setProgress(52), 700);
      setTimeout(() => setProgress(74), 1500);
      setTimeout(() => {
        setProgress(92);
        // Ativa ‚ÄúEnviando‚Äù
        setStepState(2,"done");
        setStepState(3,"active");
        safeText(document.getElementById("statusTitle"), "Prepara√ß√£o finalizada");
        safeText(document.getElementById("statusDesc"), "Estamos concluindo o envio para voc√™ receber ainda hoje. üôè");
      }, 2400);

      setTimeout(() => {
        setProgress(100);
        setStepState(3,"done");
        safeText(document.getElementById("statusBadge"), "Envio em andamento");
      }, 3800);
    }

    if (isSent) {
      setProgress(100);
      setStepState(1,"done");
      setStepState(2,"done");
      setStepState(3,"done");
      safeText(document.getElementById("statusBadge"), "Enviado");
      safeText(document.getElementById("statusTitle"), "Pedido enviado");
      safeText(document.getElementById("statusDesc"), "Voc√™ j√° deve ter recebido a mensagem com as instru√ß√µes de acesso/entrega. ‚úÖ");
      safeText(document.getElementById("etaText"), "conclu√≠do");
    } else {
      // pequena pausa para entrar ‚Äúsuave‚Äù
      setTimeout(runTimeline, 450);
    }

    // ========= Bot√µes =========
    const whatsBtn = document.getElementById("whatsBtn");
    const backBtn  = document.getElementById("backBtn");

    // Troque para o seu n√∫mero (DDD + n√∫mero). Ex: 5511999999999
    const WHATS_PHONE = (params.whats || params.wa || "").trim() || "55XXXXXXXXXXX";

    function buildWhatsLink() {
      const numero = onlyDigits(WHATS_PHONE);
      const nomeMsg = nome ? `Sou ${nome}. ` : "";
      const pedidoMsg = orderId ? `Meu pedido √© ${orderId}. ` : "";
      const msg = encodeURIComponent(
        `A paz! üôè ${nomeMsg}${pedidoMsg}Acabei de finalizar o Itiner√°rio Quaresmal 2026 e gostaria de confirmar o envio, por favor.`
      );
      return `https://wa.me/${numero}?text=${msg}`;
    }

    whatsBtn.addEventListener("click", () => {
      window.location.href = buildWhatsLink();
    });

    // Voltar ao site (troque a URL abaixo para sua home real)
    backBtn.addEventListener("click", () => {
      const home = buildUrlWithSameParams("./index.html");
      window.location.href = home;
    });

    // ========= Ano =========
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
